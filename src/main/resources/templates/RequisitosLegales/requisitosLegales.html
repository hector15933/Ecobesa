<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"></head>
<body>

	<header th:replace="layout/layout :: header"></header>



	<div class="container-fluid py-4">
		<div class="row">
			<div class="col-sm-12">
				<div class="card">
					<div
						class="card-header d-flex justify-content-between align-items-end mb-3">

						<h3 class="pb-1">Matriz de Requisitos Legales </h3>
					
						<a class="btn btn-primary" th:href="@{/RequisitosLegales/form/}">
							Crear nuevo requisito legal</a>
					</div>
					<div class="card-body ">
					
					
						<div class="container mt-2 card py-2  col-6  ml-2">

			<form th:action="@{/import/requisitosLegales/}" method="post"
				enctype="multipart/form-data">
				<input type="file" th:name="file" /> <span class="far fa-file-pdf"
					title="Reporte"> </span> <input th:type="submit"
					class="btn btn-success btn-sm " value="Import  excel" />
			</form>

		
	</div>
					
					<a
										th:href="@{/requisitosLegales/listar(format=pdf)}"
										class="btn btn-outline-success btn-sm" target="_blank"><span
											class="far fa-file-pdf" title="Reporte"></span> </a>	
						

						<table class="table table-striped table-bordered table-sm">
							<thead>
								<tr>

									<th class="text-center">#</th>
									<th class="text-center">Rango de Ley</th>
									<th class="text-center">Nombre de Norma</th>
									<th class="text-center">Norma documento</th>
									<th class="text-center">Aplicable desde</th>
									<!-- <th>Aprobado por:</th> -->
									<th class="text-center">Acciones</th>
									<th class="text-center">Datos de evaluaci√≥n</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="lineaBase: ${lineasBases}">
									<td class="text-center" th:text="${lineaBase.id}"></td>
									<td class="text-center" th:text="${lineaBase.rangoLey.nombre}"></td>
									<td class="text-center" th:text="${lineaBase.nombreNorma}"></td>
									<td class="text-center ">
									
									<a th:if="${lineaBase.archivoNorma==null}"
										href="#"> <span class="fas fa-times"
											title="No hay archivos."></span>
									</a> <a th:unless="${lineaBase.archivoNorma==null}" class="bg-warning"
										th:href="@{'../uploads/' + ${lineaBase.archivoNorma}}">
											<span class="fas fa-file-download fa-lg "
											title="Descargar Norma ."></span>
									</a>
									
									</td>
									<td th:text="${#dates.format(lineaBase.aplicableDesde, 'dd-MM-yyyy')}"> </td>
									<!-- <td th:text="${programaAnual.id_aprobado.nombres+' '+programaAnual.id_aprobado.apellidos}"></td> -->

									<td class="text-center"><a
										class="btn btn-outline-dark btn-sm"
										th:href="@{/RequisitosLegales/form/} + ${lineaBase.id}"> <span
											class="fa fa-pencil-alt" title="Editar"> </span>
									</a>
										<button class="btn btn-outline-danger btn-sm"
											th:onclick="deleteRegister('/programaAnual/eliminar/[[${lineaBase.id}]]')">
											<span class="fa fa-trash" title="Eliminar"> </span>
										</button></td>
									<td class="text-center"><a
										th:href="@{/datos-evaluacion/listar/} + ${lineaBase.id}"
										class="btn btn-outline-primary btn-sm ml-3"><span
											class="fas fa-bullseye" title="Datos de Evaluacion"></span> </a></td>
				
								</tr>
							</tbody>

						</table>
						<nav th:replace="paginator-nav :: paginator"></nav>
					</div>
				</div>

			</div>

		</div>
	</div>

	<footer th:replace="layout/layout :: footer"></footer>
</body>
</html>